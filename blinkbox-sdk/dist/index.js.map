{"version":3,"file":"index.js","sources":["../../core/core.ts","../../core/cocos_core.ts","../../core/point.ts","../../point/point.ts"],"sourcesContent":["class BlindBox {\n\tpublic static instance = new BlindBox();\n\n\tconstructor() {\n\t\tthis.isInBindBox();\n\t}\n\t/**\n\t * 断言,判断是否在blindbox中\n\t */\n\tisInBindBox() {\n\t\tif (!window) {\n\t\t\tconsole.warn(\"This SDK only works with browsers.\");\n\t\t}\n\t\tif (!window.blindbox) {\n\t\t\tconsole.warn(\"This SDK only suport with bindbox app.\");\n\t\t}\n\t}\n\t/**\n\t * blindbox 支付页面\n\t * @param OrderId   订单id\n\t * @param OrderType 订单类型\n\t * @param callback  不在原生的回调\n\t */\n\tcallNativeCheckPaid(\n\t\tOrderId: string,\n\t\tOrderType: number,\n\t\tcallback?: Function\n\t): void {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeCheckPaid(\n\t\t\t\tJSON.stringify({ OrderId, OrderType })\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\t/**\n\t * 关闭页面\n\t * @param pageId    页面id\n\t * @param callback\n\t */\n\tcallNativeCloseAndRedirectPage(\n\t\tpageId: CallNativeCloseAndRedirectPageParams,\n\t\tcallback?: Function\n\t) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeCloseAndRedirectPage(\n\t\t\t\tJSON.stringify(pageId)\n\t\t\t);\n\t\t} catch (error) {}\n\t}\n\t/**\n\t * 获取API请求头\n\t * @param callback 如果在cocos界面会使用此回调\n\t * @returns {Object}\n\t */\n\tcallNativeLoadHeader(\n\t\tcallback?: Function\n\t): Promise<CallNativeLoadHeaderType | undefined> {\n\t\treturn new Promise<CallNativeLoadHeaderType | undefined>((res, rej) => {\n\t\t\tconst result: CallNativeLoadHeaderType | undefined =\n\t\t\t\twindow.blindbox.callNativeLoadHeader();\n\t\t\t// 如果存在\n\t\t\tcallback?.call({\n\t\t\t\tname: BlindBoxName.callNativeLoadHeader,\n\t\t\t\tparams: result,\n\t\t\t});\n\t\t\tres(result);\n\t\t});\n\t}\n\t/**\n\t * 通知app处理异常\n\t * @param v\n\t */\n\tcallNativeHandleByErrorCode(value: Object, callback?: Function) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeHandleByErrorCode(JSON.stringify(value));\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\t/**\n\t * 创建订单后调用\n\t * @param value 订单信息\n\t * @param callback\n\t */\n\tcallNativeCloseUrl(value: Object, callback?: Function) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeCloseUrl(JSON.stringify(value));\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\n\t/**\n\t * 收到推送通知h5跳转页面 需要传进去类型\n\t * @param callback\n\t * @returns\n\t */\n\tcallJsByNotify<T>(callback?: Function) {\n\t\treturn new Promise<T>((res, rej) => {\n\t\t\tconst result: T = window.blindbox.callJsByNotify() as T;\n\t\t\tres(result);\n\t\t});\n\t}\n\t/**\n\t * 余额支付成功\n\t * @param v\n\t */\n\tcallNativePaySuccess(\n\t\tvalue: \"rules\" | \"charge\" | \"combo\",\n\t\tcallback?: Function\n\t) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativePaySuccess(JSON.stringify(value));\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\t/**\n\t * 插入数据\n\t * @param k             eg: 用户id + 接口名称\n\t * @param v             eg: 接口返回结果\n\t * @param Expiration    过期时间\n\t * @param callback\n\t */\n\tcallNativeInsertDB(\n\t\tk: string,\n\t\tv: Object & { Expiration: number },\n\t\tExpiration: number = 0,\n\t\tcallback?: Function\n\t) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeInsertDB(\n\t\t\t\tJSON.stringify({\n\t\t\t\t\tkey: k,\n\t\t\t\t\tresponse: v,\n\t\t\t\t\tExpiration: v.Expiration || Expiration,\n\t\t\t\t})\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\t/**\n\t * 获取参数\n\t * @param k eg: 用户id + 接口名称\n\t * @returns\n\t */\n\tcallNativeSelectDB<T>(k: string): Promise<T> {\n\t\treturn new Promise<T>((res, rej) => {\n\t\t\tconst result = window.blindbox.callNativeSelectDB<T>(k);\n\t\t\tres(result);\n\t\t});\n\t}\n\n\t/**\n\t * 修改状态栏颜色\n\t * @param v hex色值\n\t * @param callback\n\t */\n\tcallNativeUpdateStatusBar(v: string, callback?: Function) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeUpdateStatusBar(v);\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\t/**\n\t * 跳转首页导航\n\t * @param v 0 -> 首页 1 -> 游戏大厅 2 -> 商城 3 —> 仓库 4 -> 我的\n\t */\n\tcallNativeBackHome(v: number, callback?: Function) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeBackHome(v);\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\n\t/**\n\t * 返回\n\t * @param callback\n\t */\n\tcallNativeBack(callback?: Function) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeBack();\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\n\t/**\n\t * scheme跳转\n\t * @param v 路径\n\t * @param isCloseCurrentPage 是否关闭当前界面\n\t * @param jumpType 原生0，h5 1\n\t * @param statusBarType true -> 原生 false -> 无导航\n\t */\n\tcallNativePagesJump(\n\t\tv: string,\n\t\tisCloseCurrentPage = false,\n\t\tjumpType = 0,\n\t\tstatusBarType = true,\n\t\tcallback?: Function\n\t) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativePagesJump(\n\t\t\t\tJSON.stringify({\n\t\t\t\t\tjumpType, // 原生0，h5 1\n\t\t\t\t\tjumpScheme: v,\n\t\t\t\t\tstatusBarType, // true -> 原生 false -> 无导航\n\t\t\t\t\tisCloseCurrentPage, // 是否关闭当前界面\n\t\t\t\t})\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\n\t/**\n\t * 跳转H5\n\t * @param pageId\n\t * @param statusBarType  true -> 原生控制导航栏\n\t * @param callback\n\t */\n\tcallNativePagesJumpWeb(\n\t\tpageId: string,\n\t\tstatusBarType = true,\n\t\tcallback?: Function\n\t) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativePagesJumpWeb(\n\t\t\t\tJSON.stringify({\n\t\t\t\t\tpageId,\n\t\t\t\t\tstatusBarType,\n\t\t\t\t})\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\n\t/**\n\t * 跳转盲盒机\n\t * @param MachineId\n\t * @param openPayDialog 打开弹窗\n\t */\n\tcallNativeOpenMachine(\n\t\tMachineId: string,\n\t\topenPayDialog: boolean = false,\n\t\tcallback?: Function\n\t) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeOpenMachine(MachineId, openPayDialog);\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\n\t/**\n\t * 播放音频\n\t * @param v\n\t */\n\tcallNativePlayerAudio(v: string, callback?: Function) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativePlayerAudio(v);\n\t\t} catch (error) {\n\t\t\tcallback?.();\n\t\t}\n\t}\n\n\t/**\n\t * 设置进度条\n\t * @param progress 进度\n\t * @param fn\n\t */\n\tcallNativeSetLoadingProgress(progress: number, fn?: Function) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativeLoading(progress);\n\t\t} catch (error) {\n\t\t\tfn?.();\n\t\t}\n\t}\n\t/**\n\t * 获取用户信息\n\t * @returns\n\t */\n\tcallNativeGetUserInfo<T>(): Promise<T> {\n\t\treturn new Promise((res) => {\n\t\t\tconst result = window.blindbox.callNativeGetUserInfo() as T;\n\t\t\tres(result);\n\t\t});\n\t}\n\t/**\n\t * mqtt发布消息\n\t * @param data\n\t */\n\tcallNativePublishMessageForTopic(\n\t\tdata: CallNativePublishMessageForTopicType = {\n\t\t\ttopic: \"\",\n\t\t\tmsg: \"\",\n\t\t\tqos: 0,\n\t\t\tretained: false,\n\t\t},\n\t\tfn?: Function\n\t) {\n\t\ttry {\n\t\t\twindow.blindbox.callNativePublishMessageForTopic(\n\t\t\t\tdata.topic,\n\t\t\t\tdata.msg,\n\t\t\t\tdata.qos,\n\t\t\t\tdata.retained\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tfn?.();\n\t\t}\n\t}\n}\n\nexport default BlindBox;\n","import core from \"./core\";\n\ninterface Params {\n\tname: string;\n\tparams: {\n\t\tpageId: string;\n\t\ttype?: boolean;\n\t};\n}\n\nclass CocosCore {\n\tpublic static instance = new CocosCore();\n\tcore: core;\n\tconstructor() {\n\t\tthis.core = core.instance;\n\t}\n\n\t/**\n\t * 跳转H5\n\t * @param v 跳转路径\n\t */\n\tcallNativeCheckPaid(v: Params) {\n\t\tthis.core.callNativePagesJumpWeb(v.params.pageId, v.params.type);\n\t}\n\n\t/**\n\t * 跳转盲盒机\n\t * @param param0 id firstId\n\t * @param param1 type 是否打开弹窗\n\t */\n\tcallNativeOpenMachine({ id, type }: { id: string; type: boolean }) {\n\t\tthis.core.callNativeOpenMachine(id, type);\n\t}\n\n\t/**\n\t * 跳转web\n\t * @param param0 web路径\n\t * @param type   true -> 原生控制导航栏\n\t */\n\tcallNativePagesJumpWeb({\n\t\tpageId,\n\t\ttype,\n\t}: {\n\t\tpageId: string;\n\t\ttype: boolean;\n\t}) {\n\t\tthis.core.callNativePagesJumpWeb(pageId, type);\n\t}\n\n\t/**\n\t * 设置进度条\n\t * @param progress 进度\n\t * @param fn\n\t */\n\tcallNativeSetLoadingProgress(progress: number) {\n\t\tthis.core.callNativeSetLoadingProgress(progress);\n\t}\n}\n\nexport default CocosCore;\n","import { create, CreateType } from \"point/point\";\nexport enum PointEnum {\n\trecharge_click_item = \"recharge_click_item\",\n\trecharge_create_order = \"recharge_create_order\",\n\trecharge_create_order_success = \"recharge_create_order_success\",\n\trecharge_create_order_fail = \"recharge_create_order_fail\",\n\tgame_participate = \"game_participate\", // 点击game界面的下注\n\tgame_shop = \"game_shop\", // 下注时点击商城界面\n\tgame_join_success = \"game_join_success\", // 成功下注\n\tgame_open = \"game_open\", // 成功开局\n\tgame_history_recnet_win = \"game_history_recnet_win\", // 点击game界面的历史记录_recentWin\n\tgame_history_my_win = \"game_history_my_win\", // 点击game界面的历史记录_myWin\n\tgame_rank_today = \"game_rank_today\", // 点击game界面的排行榜_今天\n\tgame_rank_yesterday = \"game_rank_yesterday\", // 点击game界面的排行榜_昨天\n\tgame_rank_last_month = \"game_rank_last_month\", // 点击game界面的排行榜_上个月\n\t// game_rule = 'game_rule', // 点击game界面的规则\n\tgame_lucky_roulette_enter = \"game_lucky_roulette_enter\", // 成功进入金币转盘界面\n\tgame_lucky_roulette_spin = \"game_lucky_roulette_spin\", // 金币转盘成功开始旋转\n\topen_task = \"open_task\", // 进入任务界面\n\tclaim_task_reward = \"claim_task_reward\", // 领取任意一个任务奖励\n\topen_daily_lottery = \"open_daily_lottery\", // 进入每日抽奖界面\n\topen_daily_lottery_detail = \"open_daily_lottery_detail\", // 进入每日抽奖详情页\n\tenter_game_roll = \"enter_game_roll\", // 进入实物滚轮游戏界面\n\topen_box_pay = \"open_box_pay\", // 成功进入抽盒支付页面\n}\n\nexport class PointClick {\n\tprops?: CreateType;\n\tloggedInUserId: string;\n\t/**\n\t * 初始化参数\n\t * @param props\n\t * @param loggedInUserId 用户cid\n\t */\n\tconstructor(loggedInUserId: string, props?: CreateType | undefined) {\n\t\tthis.init();\n\t\tthis.loggedInUserId = loggedInUserId;\n\t\tconsole.log(this.loggedInUserId);\n\n\t\tthis.props = props;\n\t}\n\n\t/**\n\t * 创建远程埋点文件\n\t * @param e\n\t */\n\tinit(e?: CreateType) {\n\t\tif (globalThis !== window) {\n\t\t\tthrow new Error(\"please use sdk in browser\");\n\t\t}\n\t\tconst script = document.createElement(\"script\");\n\t\tscript.src =\n\t\t\t\"https://web.oversea.blindbox.store/js/thinkingdata.min.js\";\n\t\tconsole.log(script);\n\t\tdocument.body.appendChild(script);\n\t\tscript.onload = () => {\n\t\t\tcreate(() => {\n\t\t\t\tthis.login();\n\t\t\t});\n\t\t};\n\t}\n\n\tlogin() {\n\t\tconsole.log(this.loggedInUserId);\n\n\t\tif (!this.loggedInUserId) {\n\t\t\tconsole.warn(\"please input [loggedInUserId]\");\n\t\t} else {\n\t\t\twindow.ta.login(this.loggedInUserId);\n\t\t\tconsole.log(\"point success\");\n\t\t}\n\t}\n\t/**\n\t * 点击充值条目\n\t * @param v\n\t */\n\trecharge_click_item(v: {\n\t\tindex: number; // 索引\n\t\tcoin: number; // 金币\n\t\tprice: number; // 金额\n\t}) {\n\t\twindow.ta.track(PointEnum.recharge_click_item, v);\n\t}\n\n\t/**\n\t * 发起订单\n\t * @param v\n\t */\n\trecharge_create_order(v: {\n\t\torder_id: string; // 订单id\n\t\tindex: number; // 索引，没有就传0\n\t\tcoin: number; // 金币\n\t\tprice: number; // 价格\n\t\tpayway_id: string; // 支付方式\n\t}) {\n\t\twindow.ta.track(PointEnum.recharge_create_order, v);\n\t}\n\n\t/**\n\t * 完成支付\n\t * @param order_id 订单id\n\t * @param index    索引,没有传-1\n\t * @param coin     金币\n\t * @param price    价格\n\t * @param payway_id 支付方式id\n\t */\n\trecharge_create_order_success(\n\t\torder_id: string,\n\t\tindex: number,\n\t\tcoin: number,\n\t\tprice: number,\n\t\tpayway_id: string\n\t) {\n\t\twindow.ta.track(PointEnum.recharge_create_order_success, {\n\t\t\torder_id,\n\t\t\tindex,\n\t\t\tcoin,\n\t\t\tprice,\n\t\t\tpayway_id,\n\t\t});\n\t}\n\n\t/**\n\t * 支付失败\n\t * @param order_id         订单id\n\t * @param index            索引，没有传-1\n\t * @param coin             金币\n\t * @param price            价格\n\t * @param payway_id        支付方式id\n\t */\n\trecharge_create_order_fail(\n\t\torder_id: string,\n\t\tindex: number,\n\t\tcoin: number,\n\t\tprice: number,\n\t\tpayway_id: string\n\t) {\n\t\twindow.ta.track(PointEnum.recharge_create_order_fail, {\n\t\t\torder_id,\n\t\t\tindex,\n\t\t\tcoin,\n\t\t\tprice,\n\t\t\tpayway_id,\n\t\t});\n\t}\n\n\t/**\n\t * 点击game下注界面\n\t * @param game_id 游戏id\n\t */\n\tgame_participate(game_id: string) {\n\t\twindow.ta.track(PointEnum.game_participate, {\n\t\t\tgame_id,\n\t\t});\n\t}\n\n\t/**\n\t * 下注时点击商城界面\n\t * @param v\n\t */\n\tgame_shop<T>(v?: T) {\n\t\twindow.ta.track(PointEnum.game_shop, v);\n\t}\n\n\t/**\n\t * 成功下注\n\t * @param game_id  游戏id\n\t * @param goods_price_sum  下注商品总价格\n\t * @param goods_num     下注商品总数量\n\t */\n\tgame_join_success(\n\t\tgame_id: string,\n\t\tgoods_price_sum: number,\n\t\tgoods_num: number\n\t) {\n\t\twindow.ta.track(PointEnum.game_join_success, {\n\t\t\tgame_id,\n\t\t\tgoods_num,\n\t\t\tgoods_price_sum,\n\t\t});\n\t}\n\n\t/**\n\t * 成功开局\n\t * @param goods_price_sum 本局下注商品总金额\n\t * @param goods_num     本局下注商品总数\n\t * @param player_num    本局下注人数\n\t * @param duration      时常（第一个人下注后距离开始的时间）\n\t * @param v             商品信息\n\t */\n\tgame_open<T>(\n\t\tgoods_price_sum: number,\n\t\tgoods_num: number,\n\t\tplayer_num: number,\n\t\tduration: number,\n\t\tv?: T\n\t) {\n\t\twindow.ta.track(PointEnum.game_open, {\n\t\t\tgoods_num,\n\t\t\tgoods_price_sum,\n\t\t\tplayer_num,\n\t\t\tduration,\n\t\t\tv,\n\t\t});\n\t}\n\n\t/**\n\t * 点击game界面的历史记录 recnet_win\n\t */\n\tgame_history_recnet_win() {\n\t\twindow.ta.track(PointEnum.game_history_recnet_win);\n\t}\n\n\t/**\n\t * 点击game界面的历史记录 my_win\n\t */\n\tgame_history_my_win() {\n\t\twindow.ta.track(PointEnum.game_history_my_win);\n\t}\n\n\t/**\n\t * 点击game界面的排行榜_今天\n\t */\n\tgame_rank_today() {\n\t\twindow.ta.track(PointEnum.game_rank_today);\n\t}\n\n\t/**\n\t * 点击game界面的排行榜_昨天\n\t */\n\tgame_rank_yesterday() {\n\t\twindow.ta.track(PointEnum.game_rank_yesterday);\n\t}\n\n\t/**\n\t * 点击game界面的排行榜_上个月\n\t */\n\tgame_rank_last_month() {\n\t\twindow.ta.track(PointEnum.game_rank_last_month);\n\t}\n\n\t/**\n\t * 成功进入金币转盘界面\n\t */\n\tgame_lucky_roulette_enter() {\n\t\twindow.ta.track(PointEnum.game_lucky_roulette_enter);\n\t}\n\n\t/**\n\t * 金币转盘成功开始旋转\n\t */\n\tgame_lucky_roulette_spin() {\n\t\twindow.ta.track(PointEnum.game_lucky_roulette_spin);\n\t}\n\n\t/**\n\t * 进入任务界面\n\t */\n\topen_task() {\n\t\twindow.ta.track(PointEnum.open_task);\n\t}\n\n\t/**\n\t * 领取任意一个任务奖励\n\t */\n\tclaim_task_reward() {\n\t\twindow.ta.track(PointEnum.claim_task_reward);\n\t}\n\n\t/**\n\t * 进入每日抽奖界面\n\t */\n\topen_daily_lottery() {\n\t\twindow.ta.track(PointEnum.open_daily_lottery);\n\t}\n\n\t/**\n\t * 进入每日抽奖详情页\n\t */\n\topen_daily_lottery_detail() {\n\t\twindow.ta.track(PointEnum.open_daily_lottery_detail);\n\t}\n\n\t/**\n\t * 进入实物滚轮游戏界面\n\t */\n\tenter_game_roll() {\n\t\twindow.ta.track(PointEnum.enter_game_roll);\n\t}\n\n\t/**\n\t * 成功进入抽盒支付页面\n\t */\n\topen_box_pay() {\n\t\twindow.ta.track(PointEnum.open_box_pay);\n\t}\n}\n","export interface CreateType {\n\tappId?: string; // 系统分配的APPID\n\tname?: string; // 全局的调用变量名，可以任意设置，后续的调用使用该名称即可\n\tsdkUrl?: string; // 统计脚本URL\n\tserverUrl?: string; // 数据上传的URL\n\tloaded?: (ta: any) => void;\n}\n\nexport const create = function (loaded?: Function, options?: CreateType) {\n\tlet e: CreateType = {\n\t\tappId: \"ec38b4158c3d438fa38ec04d831029f4\", // 系统分配的APPID\n\t\tname: \"ta\", // 全局的调用变量名，可以任意设置，后续的调用使用该名称即可\n\t\tsdkUrl: \"https://web.oversea.blindbox.store/js/thinkingdata.min.js\", // 统计脚本URL\n\t\tserverUrl: \"https://global-receiver-ta.thinkingdata.cn\", // 数据上传的URL\n\t\tloaded(ta: any) {\n\t\t\tconst currentId = ta.getDistinctId();\n\t\t\tconsole.log(currentId, \"currentId\");\n\t\t\tloaded?.();\n\t\t},\n\t};\n\te = { ...e, ...options };\n\tif (!window.ThinkingDataAnalyticalTool) {\n\t\tconst n: any = e.sdkUrl;\n\t\tconst t: any = e.name;\n\t\tconst r: any = window;\n\t\tconst a = document;\n\t\tconst i = \"script\";\n\t\tlet l: any = null;\n\t\tlet s: any = null;\n\t\tr.ThinkingDataAnalyticalTool = t;\n\t\tconst o = [\n\t\t\t\"track\",\n\t\t\t\"quick\",\n\t\t\t\"login\",\n\t\t\t\"identify\",\n\t\t\t\"logout\",\n\t\t\t\"trackLink\",\n\t\t\t\"userSet\",\n\t\t\t\"userSetOnce\",\n\t\t\t\"userAdd\",\n\t\t\t\"userDel\",\n\t\t\t\"setPageProperty\",\n\t\t\t\"setSuperProperties\",\n\t\t\t\"setDynamicSuperProperties\",\n\t\t\t\"clearSuperProperties\",\n\t\t\t\"timeEvent\",\n\t\t\t\"unsetSuperProperties\",\n\t\t\t\"initInstance\",\n\t\t\t\"trackFirstEvent\",\n\t\t\t\"trackUpdate\",\n\t\t\t\"trackOverwrite\",\n\t\t];\n\t\tr[t] = function (e: any) {\n\t\t\treturn function () {\n\t\t\t\t// @ts-ignore\n\t\t\t\tif (this.name) {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t(r[t]._q = r[t]._q || []).push([e, arguments, this.name]);\n\t\t\t\t} else if (e === \"initInstance\") {\n\t\t\t\t\tconst n = arguments[0];\n\t\t\t\t\tr[t][n] = { name: n };\n\t\t\t\t\tfor (let a = 0; a < o.length; a++) {\n\t\t\t\t\t\tr[t][n][o[a]] = r[t].call(r[t][n], o[a]);\n\t\t\t\t\t}\n\t\t\t\t\t(r[t]._q1 = r[t]._q1 || []).push([e, arguments]);\n\t\t\t\t} else {\n\t\t\t\t\t(r[t]._q = r[t]._q || []).push([e, arguments]);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tfor (let u = 0; u < o.length; u++) {\n\t\t\tr[t][o[u]] = r[t].call(null, o[u]);\n\t\t}\n\t\t(r[t].param = e),\n\t\t\t(r[t].__SV = 1.1),\n\t\t\t(l = a.createElement(i)),\n\t\t\t(s = a.getElementsByTagName(i)[0]),\n\t\t\t(l.async = 1),\n\t\t\t(l.src = n),\n\t\t\ts.parentNode.insertBefore(l, s);\n\t}\n};\n"],"names":["BlindBox","constructor","this","isInBindBox","window","console","warn","blindbox","callNativeCheckPaid","OrderId","OrderType","callback","JSON","stringify","error","callNativeCloseAndRedirectPage","pageId","callNativeLoadHeader","Promise","res","rej","result","call","name","BlindBoxName","params","callNativeHandleByErrorCode","value","callNativeCloseUrl","callJsByNotify","callNativePaySuccess","callNativeInsertDB","k","v","Expiration","key","response","callNativeSelectDB","callNativeUpdateStatusBar","callNativeBackHome","callNativeBack","callNativePagesJump","isCloseCurrentPage","jumpType","statusBarType","jumpScheme","callNativePagesJumpWeb","callNativeOpenMachine","MachineId","openPayDialog","callNativePlayerAudio","callNativeSetLoadingProgress","progress","fn","callNativeLoading","callNativeGetUserInfo","callNativePublishMessageForTopic","data","topic","msg","qos","retained","CocosCore","core","instance","type","id","PointEnum","loggedInUserId","props","init","log","e","globalThis","Error","script","document","createElement","src","body","appendChild","onload","loaded","options","appId","sdkUrl","serverUrl","ta","currentId","getDistinctId","ThinkingDataAnalyticalTool","n","t","r","a","i","l","s","o","_q","push","arguments","length","_q1","u","param","__SV","getElementsByTagName","async","parentNode","insertBefore","create","login","recharge_click_item","track","recharge_create_order","recharge_create_order_success","order_id","index","coin","price","payway_id","recharge_create_order_fail","game_participate","game_id","game_shop","game_join_success","goods_price_sum","goods_num","game_open","player_num","duration","game_history_recnet_win","game_history_my_win","game_rank_today","game_rank_yesterday","game_rank_last_month","game_lucky_roulette_enter","game_lucky_roulette_spin","open_task","claim_task_reward","open_daily_lottery","open_daily_lottery_detail","enter_game_roll","open_box_pay"],"mappings":"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"}