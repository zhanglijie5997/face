!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self).blindbox_sdk={})}(this,(function(e){"use strict";class a{constructor(){this.isInBindBox()}isInBindBox(){window||console.warn("This SDK only works with browsers."),window.blindbox||console.warn("This SDK only suport with bindbox app.")}callNativeCheckPaid(e,a,t){try{window.blindbox.callNativeCheckPaid(JSON.stringify({OrderId:e,OrderType:a}))}catch(e){null==t||t()}}callNativeCloseAndRedirectPage(e,a){try{window.blindbox.callNativeCloseAndRedirectPage(JSON.stringify(e))}catch(e){}}callNativeLoadHeader(e){return new Promise(((a,t)=>{const n=window.blindbox.callNativeLoadHeader();null==e||e.call({name:BlindBoxName.callNativeLoadHeader,params:n}),a(n)}))}callNativeHandleByErrorCode(e,a){try{window.blindbox.callNativeHandleByErrorCode(JSON.stringify(e))}catch(e){null==a||a()}}callNativeCloseUrl(e,a){try{window.blindbox.callNativeCloseUrl(JSON.stringify(e))}catch(e){null==a||a()}}callJsByNotify(e){return new Promise(((e,a)=>{e(window.blindbox.callJsByNotify())}))}callNativePaySuccess(e,a){try{window.blindbox.callNativePaySuccess(JSON.stringify(e))}catch(e){null==a||a()}}callNativeInsertDB(e,a,t=0,n){try{window.blindbox.callNativeInsertDB(JSON.stringify({key:e,response:a,Expiration:a.Expiration||t}))}catch(e){null==n||n()}}callNativeSelectDB(e){return new Promise(((a,t)=>{a(window.blindbox.callNativeSelectDB(e))}))}callNativeUpdateStatusBar(e,a){try{window.blindbox.callNativeUpdateStatusBar(e)}catch(e){null==a||a()}}callNativeBackHome(e,a){try{window.blindbox.callNativeBackHome(e)}catch(e){null==a||a()}}callNativeBack(e){try{window.blindbox.callNativeBack()}catch(a){null==e||e()}}callNativePagesJump(e,a=!1,t=0,n=!0,i){try{window.blindbox.callNativePagesJump(JSON.stringify({jumpType:t,jumpScheme:e,statusBarType:n,isCloseCurrentPage:a}))}catch(e){null==i||i()}}callNativePagesJumpWeb(e,a=!0,t){try{window.blindbox.callNativePagesJumpWeb(JSON.stringify({pageId:e,statusBarType:a}))}catch(e){null==t||t()}}callNativeOpenMachine(e,a=!1,t){try{window.blindbox.callNativeOpenMachine(e,a)}catch(e){null==t||t()}}callNativePlayerAudio(e,a){try{window.blindbox.callNativePlayerAudio(e)}catch(e){null==a||a()}}callNativeSetLoadingProgress(e,a){try{window.blindbox.callNativeLoading(e)}catch(e){null==a||a()}}callNativeGetUserInfo(){return new Promise((e=>{e(window.blindbox.callNativeGetUserInfo())}))}callNativePublishMessageForTopic(e={topic:"",msg:"",qos:0,retained:!1},a){try{window.blindbox.callNativePublishMessageForTopic(e.topic,e.msg,e.qos,e.retained)}catch(e){null==a||a()}}}a.instance=new a;class t{constructor(){this.core=a.instance}callNativeCheckPaid(e){this.core.callNativePagesJumpWeb(e.params.pageId,e.params.type)}callNativeOpenMachine({id:e,type:a}){this.core.callNativeOpenMachine(e,a)}callNativePagesJumpWeb({pageId:e,type:a}){this.core.callNativePagesJumpWeb(e,a)}callNativeSetLoadingProgress(e){this.core.callNativeSetLoadingProgress(e)}}t.instance=new t;var n;e.PointEnum=void 0,(n=e.PointEnum||(e.PointEnum={})).recharge_click_item="recharge_click_item",n.recharge_create_order="recharge_create_order",n.recharge_create_order_success="recharge_create_order_success",n.recharge_create_order_fail="recharge_create_order_fail",n.game_participate="game_participate",n.game_shop="game_shop",n.game_join_success="game_join_success",n.game_open="game_open",n.game_history_recnet_win="game_history_recnet_win",n.game_history_my_win="game_history_my_win",n.game_rank_today="game_rank_today",n.game_rank_yesterday="game_rank_yesterday",n.game_rank_last_month="game_rank_last_month",n.game_lucky_roulette_enter="game_lucky_roulette_enter",n.game_lucky_roulette_spin="game_lucky_roulette_spin",n.open_task="open_task",n.claim_task_reward="claim_task_reward",n.open_daily_lottery="open_daily_lottery",n.open_daily_lottery_detail="open_daily_lottery_detail",n.enter_game_roll="enter_game_roll",n.open_box_pay="open_box_pay";e.PointClick=class{constructor(e,a){this.init(),this.loggedInUserId=e,console.log(this.loggedInUserId),this.props=a}init(e){if(globalThis!==window)throw new Error("please use sdk in browser");const a=document.createElement("script");a.src="https://web.oversea.blindbox.store/js/thinkingdata.min.js",console.log(a),document.body.appendChild(a),a.onload=()=>{!function(e,a){let t={appId:"ec38b4158c3d438fa38ec04d831029f4",name:"ta",sdkUrl:"https://web.oversea.blindbox.store/js/thinkingdata.min.js",serverUrl:"https://global-receiver-ta.thinkingdata.cn",loaded(a){const t=a.getDistinctId();console.log(t,"currentId"),null==e||e()}};if(t=Object.assign(Object.assign({},t),a),!window.ThinkingDataAnalyticalTool){const e=t.sdkUrl,a=t.name,n=window,i=document,o="script";let r=null,l=null;n.ThinkingDataAnalyticalTool=a;const c=["track","quick","login","identify","logout","trackLink","userSet","userSetOnce","userAdd","userDel","setPageProperty","setSuperProperties","setDynamicSuperProperties","clearSuperProperties","timeEvent","unsetSuperProperties","initInstance","trackFirstEvent","trackUpdate","trackOverwrite"];n[a]=function(e){return function(){if(this.name)(n[a]._q=n[a]._q||[]).push([e,arguments,this.name]);else if("initInstance"===e){const t=arguments[0];n[a][t]={name:t};for(let e=0;e<c.length;e++)n[a][t][c[e]]=n[a].call(n[a][t],c[e]);(n[a]._q1=n[a]._q1||[]).push([e,arguments])}else(n[a]._q=n[a]._q||[]).push([e,arguments])}};for(let e=0;e<c.length;e++)n[a][c[e]]=n[a].call(null,c[e]);n[a].param=t,n[a].__SV=1.1,r=i.createElement(o),l=i.getElementsByTagName(o)[0],r.async=1,r.src=e,l.parentNode.insertBefore(r,l)}}((()=>{this.login()}))}}login(){console.log(this.loggedInUserId),this.loggedInUserId?(window.ta.login(this.loggedInUserId),console.log("point success")):console.warn("please input [loggedInUserId]")}recharge_click_item(a){window.ta.track(e.PointEnum.recharge_click_item,a)}recharge_create_order(a){window.ta.track(e.PointEnum.recharge_create_order,a)}recharge_create_order_success(a,t,n,i,o){window.ta.track(e.PointEnum.recharge_create_order_success,{order_id:a,index:t,coin:n,price:i,payway_id:o})}recharge_create_order_fail(a,t,n,i,o){window.ta.track(e.PointEnum.recharge_create_order_fail,{order_id:a,index:t,coin:n,price:i,payway_id:o})}game_participate(a){window.ta.track(e.PointEnum.game_participate,{game_id:a})}game_shop(a){window.ta.track(e.PointEnum.game_shop,a)}game_join_success(a,t,n){window.ta.track(e.PointEnum.game_join_success,{game_id:a,goods_num:n,goods_price_sum:t})}game_open(a,t,n,i,o){window.ta.track(e.PointEnum.game_open,{goods_num:t,goods_price_sum:a,player_num:n,duration:i,v:o})}game_history_recnet_win(){window.ta.track(e.PointEnum.game_history_recnet_win)}game_history_my_win(){window.ta.track(e.PointEnum.game_history_my_win)}game_rank_today(){window.ta.track(e.PointEnum.game_rank_today)}game_rank_yesterday(){window.ta.track(e.PointEnum.game_rank_yesterday)}game_rank_last_month(){window.ta.track(e.PointEnum.game_rank_last_month)}game_lucky_roulette_enter(){window.ta.track(e.PointEnum.game_lucky_roulette_enter)}game_lucky_roulette_spin(){window.ta.track(e.PointEnum.game_lucky_roulette_spin)}open_task(){window.ta.track(e.PointEnum.open_task)}claim_task_reward(){window.ta.track(e.PointEnum.claim_task_reward)}open_daily_lottery(){window.ta.track(e.PointEnum.open_daily_lottery)}open_daily_lottery_detail(){window.ta.track(e.PointEnum.open_daily_lottery_detail)}enter_game_roll(){window.ta.track(e.PointEnum.enter_game_roll)}open_box_pay(){window.ta.track(e.PointEnum.open_box_pay)}},e.blindbox=a,e.cocoscore=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
